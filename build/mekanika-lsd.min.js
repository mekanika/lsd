!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.LSD=r()}}(function(){return function r(e,n,t){function o(f,a){if(!n[f]){if(!e[f]){var u="function"==typeof require&&require;if(!a&&u)return u(f,!0);if(i)return i(f,!0);var c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[f]={exports:{}};e[f][0].call(s.exports,function(r){var n=e[f][1][r];return o(n?n:r)},s,s.exports,r,e,n,t)}return n[f].exports}for(var i="function"==typeof require&&require,f=0;f<t.length;f++)o(t[f]);return o}({1:[function(r,e){var n=r("./is"),t=function(r){var e;if(r instanceof Array){var o=-1;for(e=[];++o<r.length;)e[o]=n.array(r[o])||n.object(r[o])?t(r[o]):r[o]}else if(n.object(r)){e={};for(var i in r)r.hasOwnProperty(i)&&(e[i]=n.array(r[i])||n.object(r[i])?t(r[i]):r[i])}else e=r;return e};e.exports=t},{"./is":4}],2:[function(r,e){var n=r("./is"),t=function(r,e,t){for(var o,i=-1,f=[];++i<r.length;)if(o=!0,n.object(e)){for(var a in e)e.hasOwnProperty(a)&&r[i][a]!==e[a]&&(o=!1);o&&f.push(t?i:r[i])}else n["function"](e)&&e(r[i])&&f.push(t?i:r[i]);return f};e.exports=t},{"./is":4}],3:[function(r,e){var n={is:r("./is"),clone:r("./clone"),filter:r("./filter"),match:r("./match"),merge:r("./merge"),sortBy:r("./sort"),toObj:r("./toObj")};e.exports=n},{"./clone":1,"./filter":2,"./is":4,"./match":5,"./merge":6,"./sort":7,"./toObj":8}],4:[function(r,e){var n=function(r){return{}.toString.call(r).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},t={string:function(r){return"string"==typeof r},integer:function(r){return"number"==typeof r&&r%1===0&&!isNaN(r)},number:function(r){return"number"===n(r)&&!isNaN(r)},array:function(r){return"array"===n(r)},"boolean":function(r){return"boolean"===n(r)},object:function(r){return"object"===n(r)},date:function(r){return"date"===n(r)},"function":function(r){return"function"===n(r)},undefined:function(r){return"undefined"==typeof r},error:function(r){return"error"===n(r)},equal:function(r,e){if(r===e)return!0;var n=-1;if(t.array(r)){if(!t.array(e))return!1;if(r.length!==e.length)return!1;for(;++n<r.length;)if(!t.equal(r[n],e[n]))return!1;return!0}if(t.object(r)&&t.object(e)){var o=Object.keys(r),i=Object.keys(e);if(o.length!==i.length)return!1;for(;++n<o.length;)if(!t.equal(r[o[n]],e[o[n]]))return!1;return!0}return!1}};t.type=function(r){return n(r)},e.exports=t},{}],5:[function(r,e){function n(r,e){function n(r,e,t){for(var f=[],a=-1;++a<e.length;){var u=e[a],c=o(u);f[a]=u[c]instanceof Array?n(r,u[c],c):i(r,u)}return"or"===t?f.indexOf(!0)>-1:f.indexOf(!1)<0}for(var i=function(r,e){var n,i=o(e),f=o(e[i]),a=e[i][f];t["function"](a)&&(a=a());var u=!1;switch(f){case"eq":r[i]===a&&(u=!0);break;case"neq":r[i]!==a&&(u=!0);break;case"in":a.indexOf(r[i])>-1&&(u=!0);break;case"nin":a.indexOf(r[i])<0&&(u=!0);break;case"gt":r[i]>a&&(u=!0);break;case"gte":r[i]>=a&&(u=!0);break;case"lt":r[i]<a&&(u=!0);break;case"lte":r[i]<=a&&(u=!0);break;case"all":var c=!0;for(n=-1;++n<a.length;)r[i]?-1===r[i].indexOf(a[n])&&(c=!1):c=!1;c&&(u=!0);break;case"any":for(n=0;n<a.length;n++)r[i]&&r[i].indexOf(a[n])>-1&&(u=!0,n=a.length)}return u},f=o(e),a=[],u=-1;++u<r.length;){var c=r[u],s=c.record&&2===Object.keys(c).length?c.record:c;n(s,e[f],f)&&a.push(c)}return a}var t=r("./is"),o=function(r){var e;for(var n in r)r.hasOwnProperty(n)&&(e=n);return e};e.exports=n},{"./is":4}],6:[function(r,e){var n=r("./is"),t=function(r,e){var n=this,t={};r[n.field]&&(t=JSON.parse(JSON.stringify(r[n.field])));for(var i=0;i<e.length;i++){var f=n.from;if("$0"===n.from)for(var a in e[i])if(e[i].hasOwnProperty(a)){f=a;break}if(!t[f]||!n.preserve){t[f]||(t[f]=e[i][f]instanceof Array?[]:{});var u=n.replaceArray===!1?!1:!0,c=o.call({replaceArray:u},t[f],e[i][f]);c instanceof Array&&0!==c.length&&(t[f]=c)}}return r[n.field]=t,r},o=function(r,e){var i=this;"undefined"==typeof i.preserve&&(i.preserve=o.preserve),"undefined"==typeof i.replaceArray&&(i.replaceArray=o.replaceArray),"undefined"==typeof i.maxArgs&&(i.maxArgs=o.maxArgs);var f,a=0,u=arguments,c=i.maxArgs||u.length;if(i.field&&i.from)return t.call(i,r,e);for(;++a<c;)if(n.object(u[a])){f=i.field?r[i.field]||{}:r||{};for(var s in u[a])u[a].hasOwnProperty(s)&&("undefined"!=typeof f[s]&&i.preserve||(n.object(u[a][s])&&(f[s]=o(f[s],u[a][s])),f[s]=n.array(u[a][s])?o(f[s],u[a][s]):u[a][s]))}else if(n.array(u[a]))if(f=i.field?r[i.field]||[]:r||[],void 0===i.replaceArray)f.push.apply(f,u[a]);else if(i.replaceArray)f=u[a],i.field||(r=u[a]);else for(var l=0;l<u[a].length;l++)f[l]=u[a][l];return i.field&&(r[i.field]=f),r};o.preserve=!1,o.replaceArray=void 0,o.maxArgs=void 0,o.as=function(r){var e=Array.prototype.slice.call(arguments);e.shift();var n=o.apply(r,e);return n},e.exports=o},{"./is":4}],7:[function(r,e){var n=r("./is"),t=function(r,e,t,o){if(!e)return r;(n.undefined(t)||!t)&&(t=1);for(var i=[],f=-1;++f<r.length;)i[f]=r[f];var a=function(r){return o?o(r[e]):r[e]},u=function(r,e){return r=a(r),e=a(e),t*((r>e)-(e>r))};return i.sort(u)};e.exports=t},{"./is":4}],8:[function(r,e){var n=function(r,e){var n={};return n[r]=e,n};e.exports=n},{}]},{},[3])(3)});